<Window x:Class="GoogleCluodApiTest.Views.DocumentAiWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
        xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
        xmlns:local="clr-namespace:GoogleCluodApiTest.Views"
        mc:Ignorable="d"
        Title="DocumentAiWindow" Height="1000" Width="700">
    <Grid Margin="12">

        <Grid.RowDefinitions>
            <RowDefinition Height="Auto"/>
            <!-- 파일 선택 -->
            <RowDefinition Height="Auto"/>
            <!-- 실행/상태 -->
            <RowDefinition Height="*"/>
            <!-- 결과(요약/텍스트) -->
            <RowDefinition Height="Auto"/>
            <!-- Raw JSON 영역 -->
        </Grid.RowDefinitions>

        <!-- 파일 선택 -->
        <StackPanel Orientation="Horizontal" Margin="0,0,0,8">
            <Button Content="파일 선택" Command="{Binding SelectFileCommand}" />
            <TextBlock Text="{Binding SelectedFile}" Margin="12,0,0,0" 
                       VerticalAlignment="Center" />
        </StackPanel>

        <!-- 처리 버튼 + 상태 -->
        <StackPanel Orientation="Horizontal" Margin="0,0,0,8" Grid.Row="1">
            <Button Content="문서 처리" Command="{Binding ProcessCommand}" />
            <Button Content="취소" Command="{Binding CancelCommand}" Margin="8,0,0,0"/>
            <TextBlock Text="{Binding Status}" Margin="12,0,0,0" 
                       VerticalAlignment="Center"/>
        </StackPanel>

        <!-- 결과 -->
        <Grid Grid.Row="2">

            <Grid.ColumnDefinitions>
                <ColumnDefinition Width="*"/>
                <ColumnDefinition Width="*"/>
            </Grid.ColumnDefinitions>
            <!-- 요약 -->
            <GroupBox Header="요약" Margin="0,0,8,0">
                <StackPanel Margin="8">
                    <TextBlock Text="파일명:" FontWeight="Bold"/>
                    <TextBlock Text="{Binding Result.FileName}"/>
                    <TextBlock Text="페이지 수:" FontWeight="Bold"/>
                    <TextBlock Text="{Binding Result.PageCount}"/>
                    <TextBlock Text="요약:" FontWeight="Bold"/>
                    <TextBlock Text="{Binding Result.Summary}"/>
                </StackPanel>
            </GroupBox>

            <!-- OCR 텍스트 -->
            <GroupBox Header="추출 텍스트" Grid.Column="1">
                <ScrollViewer Margin="8" VerticalScrollBarVisibility="Auto">
                    <TextBox Text="{Binding Result.Text}" 
                             TextWrapping="Wrap" 
                             AcceptsReturn="True" 
                             IsReadOnly="True"/>
                </ScrollViewer>
            </GroupBox>
        </Grid>

        <!-- Raw JSON + 기능 버튼 -->
        <DockPanel Grid.Row="3" Margin="0,8,0,0">
            <StackPanel Orientation="Horizontal" DockPanel.Dock="Top" Margin="0,0,0,4">
                <Button Content="Raw JSON 복사" Command="{Binding CopyRawJsonCommand}" />
                <Button Content="텍스트 저장" Command="{Binding SaveTextCommand}" Margin="8,0,0,0"/>
            </StackPanel>
            <GroupBox Header="Raw JSON 응답">
                <ScrollViewer VerticalScrollBarVisibility="Auto">
                    <TextBox Text="{Binding Result.RawJson}"
                             FontFamily="Consolas" FontSize="12"
                             AcceptsReturn="True" 
                             IsReadOnly="True"
                             TextWrapping="NoWrap"
                             HorizontalScrollBarVisibility="Auto"
                             VerticalScrollBarVisibility="Auto"/>
                </ScrollViewer>
            </GroupBox>
        </DockPanel>
    </Grid>
</Window>
